(()=>{"use strict";var e={319:(e,t,n)=>{e.exports=n.p+"assets/imgs/o.03f123220ffb109d19e8..svg"},112:(e,t,n)=>{e.exports=n.p+"assets/imgs/x.880758b101627b8a8e85..svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{let e=[["","",""],["","",""],["","",""]];function t(){return e}function r(){return e.transpose()}function o(){let t=[];for(let n=0;n<e.length;n++)t.push(e[n][n]);let n=[],r=0;for(let t=e.length-1;t>=0;t--)n.push(e[r][t]),r++;return[t,n]}Array.prototype.transpose=function(){let e=[];for(let t=0;t<this.length;t++){let n=[];for(let e=0;e<this[0].length;e++)n.push(this[e][t]);e.push(n)}return e};const i={side:"X",isAIControlled:!1},l={side:"O",isAIControlled:!0};let s=i,d=0,a=!1;const c=()=>s,u=e=>{a=e},g=()=>a,m=(t,n,r)=>{g()||(!function(t,n,r){e[t][n]=r}(t,n,r),p(),s=s==i?l:i,document.dispatchEvent(new Event("playerSwitch")),f(r)?setTimeout((()=>{E(r),document.dispatchEvent(new Event("reset"))}),100):h()&&setTimeout((()=>{v(),document.dispatchEvent(new Event("reset"))}),100))},p=()=>{d++},f=function(e){let n=!1;return t().forEach((t=>{t.every((t=>t==e&&!n))&&(n=!0)})),r().forEach((t=>{t.every((t=>t==e&&!n))&&(n=!0)})),o().forEach((t=>{t.every((t=>t==e&&!n))&&(n=!0)})),n},h=()=>{if(d>=9)return!0},E=e=>{alert(e+" wins!"),u(!0)},v=()=>{alert("Tie!"),u(!0),document.dispatchEvent(new Event("reset"))},y=()=>{!function(){for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)e[t][n]=""}(),s=i,d=0,document.dispatchEvent(new Event("playerSwitch")),setTimeout((()=>{u(!1)}),0)};let B=[],w=[];const b=e=>{let t=n(112),r=n(319),o=document.createElement("img");return o.setAttribute("src","X"==e?t:r),o};const L=e=>{if(e.firstChild)return;let t=e.getAttribute("row"),n=e.getAttribute("column"),r=c().side;m(t,n,r),I(),T()};function T(){let e=0;for(let n=0;n<t().length;n++)for(let r=0;r<t()[n].length;r++){if(""==t()[n][r])for(;B[e].firstChild;)B[e].removeChild(B[e].lastChild);B[e].firstChild||("X"==t()[n][r]?B[e].appendChild(b("X")):"O"==t()[n][r]&&B[e].appendChild(b("O"))),e++}}function I(){w.forEach((e=>{e.sideMarker.classList.toggle("activeSide")}))}function x(e){let n="X"==e?"O":"X",r=A(e,n),o=A(n,e);return r||(o||function(){let e=0;for(;e<=100;){let n=[Math.floor(3*Math.random()),Math.floor(3*Math.random())];if(""==t()[n[0]][n[1]])return n;e++}return}())}function A(e,n){let i=function(e,n){let r=!1;return t().forEach(((t,o)=>{let i=k(t,e,n);(i||0===i)&&(r=[o,i])})),r}(e,n);if(i)return i;let l=function(e,t){let n=!1;return r().forEach(((r,o)=>{let i=k(r,e,t);(i||0===i)&&(n=[i,o])})),n}(e,n);if(l)return l;let s=function(e,t){let n=o()[0],r=o()[1],i=k(n,e,t),l=k(r,e,t);if(i||0===i){let e=n.indexOf("");return[e,e]}if(l||0===l){let e=r.slice(),t=r.reverse().slice();return[e.indexOf(""),t.indexOf("")]}return!1}(e,n);return s||void 0}function k(e,t,n){return 2==e.filter((e=>e==t)).length&&!e.includes(n)&&e.indexOf("")}document.addEventListener("playerSwitch",(()=>{c().isAIControlled&&setTimeout((()=>{if(!g()){let e=x(c().side,c().side);m(e[0],e[1],c().side),T(),I()}}),250)})),function(){const e=document.getElementById("board").getElementsByTagName("div");B=Array.prototype.slice.call(e,0);let n=0;for(let e=0;e<t().length;e++)for(let r=0;r<t()[e].length;r++)B[n].setAttribute("row",e),B[n].setAttribute("column",r),n++;B.forEach((e=>{e.addEventListener("click",(()=>{L(e)}))})),document.getElementById("resetButton").addEventListener("click",(()=>{document.dispatchEvent(new Event("reset"))}))}(),function(){let e={player:i,box:document.getElementById("player1Box"),dropdownButton:document.getElementById("player1Dots"),dropdown:document.getElementById("player1Dropdown"),editButton:document.getElementById("player1Edit"),nameLabel:player1Box.getElementsByTagName("h1")[0],sideMarker:document.getElementById("sideMarkerTop"),AIToggle:document.getElementById("aiToggle1")},t={player:l,box:document.getElementById("player2Box"),dropdownButton:document.getElementById("player2Dots"),dropdown:document.getElementById("player2Dropdown"),editButton:document.getElementById("player2Edit"),nameLabel:player2Box.getElementsByTagName("h1")[0],sideMarker:document.getElementById("sideMarkerBottom"),AIToggle:document.getElementById("aiToggle2")};w=[e,t],w.forEach((e=>{e.AIToggle.addEventListener("click",(()=>{var t;(t=e.player).isAIControlled=!t.isAIControlled,document.dispatchEvent(new Event("playerSwitch")),e.AIToggle.classList.toggle("active")}))})),w.forEach((e=>{e.box.addEventListener("mouseover",(()=>{e.box.getElementsByTagName("img")[0].classList.remove("hidden")})),e.box.addEventListener("mouseout",(()=>{e.box.getElementsByTagName("img")[0].classList.add("hidden")}))})),w.forEach((e=>{e.editButton.addEventListener("click",(t=>{!function(){e.editButton.classList.toggle("disabled");let t=e.box.parentNode.getElementsByTagName("h1")[0],n=document.createElement("input");n.classList.add("nameInput"),n.value=t.innerHTML,n.addEventListener("focus",(()=>{event.target.style.background="rgba(63, 176, 221, 0.685)"})),n.addEventListener("keypress",(r=>{"Enter"==r.key&&(t.innerHTML=n.value,e.box.replaceChild(t,n),e.editButton.classList.toggle("disabled"))})),t.parentNode.replaceChild(n,t),n.focus(),n.select()}(e.editButton)}))})),w.forEach((e=>{e.dropdownButton.addEventListener("click",(()=>{e.dropdown.classList.toggle("collapsed"),e.dropdown.childNodes.forEach((e=>{e.classList&&e.classList.toggle("collapsed")}))}))}))}(),document.addEventListener("reset",(()=>{y(),T(),w.forEach((e=>{e.sideMarker.getElementsByTagName("h1")[0].innerHTML==c().side?e.sideMarker.classList.add("activeSide"):e.sideMarker.classList.remove("activeSide")}))}))})()})();